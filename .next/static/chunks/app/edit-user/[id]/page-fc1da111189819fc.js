(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[721],{3430:(e,r,a)=>{Promise.resolve().then(a.bind(a,9447))},9447:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>i});var o=a(5155),t=a(2115),l=a(5695),s=a(6766),n=a(3464);let d={nombre:"",correo:"",area:"",role:""};function i(){let e=(0,l.useRouter)(),r=(0,l.useParams)().id,[a,i]=(0,t.useState)(d),[c,m]=(0,t.useState)(!1),[u,b]=(0,t.useState)(!0),[x,p]=(0,t.useState)(null);(0,t.useEffect)(()=>{r?(b(!0),p(null),n.A.get("http://localhost:4000/personnel-management/get-users").then(e=>{let a=e.data.find(e=>String(e.id)===String(r));console.log("User to Edit:",a),a?i({nombre:a.name,correo:a.email,area:a.area,role:a.role}):(console.error("Usuario con ID ".concat(r," no encontrado en la lista.")),p("No se encontr\xf3 el usuario con ID ".concat(r," para editar.")))}).catch(e=>{console.error("Error fetching user data for edit:",e),p("No se pudieron cargar los datos del usuario para editar. Por favor, int\xe9ntelo m\xe1s tarde.")}).finally(()=>{b(!1)})):(p("ID de solicitud no proporcionado."),b(!1))},[r]);let h=e=>{let{name:r,value:a}=e.target;i(e=>({...e,[r]:a}))},g=async o=>{if(o.preventDefault(),!r)return void p("No se puede actualizar sin un ID de solicitud.");m(!0),p(null);let t={name:a.nombre,email:a.correo,department:a.area,role:a.role,area:a.area};try{await n.A.put("http://localhost:4000/personnel-management/update-user/".concat(r),t),alert("Usuario actualizado exitosamente!"),e.push("/team-management")}catch(r){console.error("Error updating user:",r);let e="Error de red o al procesar la solicitud de actualizaci\xf3n.";if(n.A.isAxiosError(r)&&r.response){var l;e=(null==(l=r.response.data)?void 0:l.message)||"Error al actualizar el usuario."}p(e)}finally{m(!1)}};return u?(0,o.jsx)("div",{className:"container mx-auto p-6",children:(0,o.jsx)("p",{className:"text-center text-gray-600",children:"Cargando datos para edici\xf3n..."})}):(0,o.jsxs)("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-xl w-full max-w-2xl mx-auto my-8",children:[(0,o.jsxs)("div",{className:"flex items-center mb-6",children:[(0,o.jsx)("div",{className:"bg-blue-600 p-3 rounded-full mr-4",children:(0,o.jsx)(s.default,{className:"shrink-0",src:"/img/the-medal-svgrepo-com.svg",alt:"Editar Miembro",width:48,height:48})}),(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-700",children:"Editar Miembro del Equipo"})]}),(0,o.jsx)("p",{className:"text-gray-600 text-sm mb-6",children:"Modifique los datos del miembro del equipo y guarde los cambios."}),(0,o.jsxs)("form",{onSubmit:g,children:[(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"nombre",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre completo"}),(0,o.jsx)("input",{type:"text",name:"nombre",id:"nombre",value:a.nombre,onChange:h,className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Ej: Carlos Mart\xednez",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"correo",className:"block text-sm font-medium text-gray-700 mb-1",children:"Correo electr\xf3nico"}),(0,o.jsx)("input",{type:"email",name:"correo",id:"correo",value:a.correo,onChange:h,className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Ej: carlos.martinez@empresa.com",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"area",className:"block text-sm font-medium text-gray-700 mb-1",children:"\xc1rea / Departamento"}),(0,o.jsx)("input",{type:"text",name:"area",id:"area",value:a.area,onChange:h,className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Ej: Tecnolog\xeda",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"rol",className:"block text-sm font-medium text-gray-700 mb-1",children:"Rol"}),(0,o.jsx)("input",{type:"text",name:"rol",id:"rol",value:a.role,onChange:h,className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Ej: Desarrollador Frontend",required:!0})]})]}),x&&(0,o.jsx)("p",{className:"text-red-500 text-sm mt-4 mb-4",children:x}),(0,o.jsx)("div",{className:"mt-8 pt-5 border-t border-gray-200",children:(0,o.jsxs)("div",{className:"flex justify-end",children:[(0,o.jsx)("button",{type:"button",onClick:()=>e.push("/team-management"),className:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg mr-3 transition duration-200",children:"Cancelar"}),(0,o.jsx)("button",{type:"submit",disabled:c,className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75 transition duration-200 disabled:opacity-50",children:c?"Actualizando...":"Actualizar Usuario"})]})})]})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[794,766,441,684,358],()=>r(3430)),_N_E=e.O()}]);