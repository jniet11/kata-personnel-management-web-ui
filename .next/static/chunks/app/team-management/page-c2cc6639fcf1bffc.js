(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[518],{304:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var a=t(5155),r=t(5695),l=t(2115),i=t(3464),n=t(6766);function o(){let e=(0,r.useRouter)(),[s,t]=(0,l.useState)([]),[o,c]=(0,l.useState)(!0),[d,m]=(0,l.useState)(null);(0,l.useEffect)(()=>{(async()=>{c(!0),m(null);try{let e=await i.A.get("http://localhost:4000/personnel-management/get-users");t(e.data)}catch(e){console.error("Error fetching recent requests:",e),m("No se pudieron cargar las solicitudes recientes. Int\xe9ntelo m\xe1s tarde.")}finally{c(!1)}})()},[]);let u=async e=>{let a=s.find(s=>s.id===e);if(!a){console.error("Solicitud no encontrada para eliminar:",e),alert("Error: No se encontr\xf3 la solicitud especificada.");return}let r="creacion de usuario"===a.request.toLowerCase();if(confirm('\xbfEst\xe1s seguro de que quieres procesar la eliminaci\xf3n para "'.concat(a.name,'" (').concat(a.request,")?")))if(r)try{let s="http://localhost:4000/personnel-management/delete-user/".concat(a.id);await i.A.delete(s),alert('El usuario "'.concat(a.name,'" (ID: ').concat(a.id,") ha sido eliminado exitosamente.")),t(s=>s.filter(s=>s.id!==e))}catch(e){if(console.error("Error al eliminar el usuario:",e),i.A.isAxiosError(e)&&e.response){var l;alert("Error al eliminar el usuario: ".concat((null==(l=e.response.data)?void 0:l.message)||e.message))}else alert("Error de red o al procesar la solicitud de eliminaci\xf3n del usuario.")}else alert('La eliminaci\xf3n para el tipo de solicitud "'.concat(a.request,'" no es una eliminaci\xf3n de usuario directa o requiere un proceso diferente.'))};return(0,a.jsxs)("div",{className:"container mx-auto bg-white",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-center text-gray-700 mb-10",children:"Gesti\xf3n de Ingresos y Recursos de Equipo"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[(0,a.jsx)("div",{className:"bg-blue-500 p-3 rounded-full mr-4",children:(0,a.jsx)(n.default,{className:"shrink-0",src:"/img/the-medal-svgrepo-com.svg",alt:"Creaci\xf3n de Usuario",width:48,height:48})}),(0,a.jsx)("div",{children:(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-700",children:"Creaci\xf3n de Usuario"})})]}),(0,a.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Registrar a una nueva persona en el equipo."}),(0,a.jsx)("button",{onClick:()=>e.push("/create-user"),className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg transition duration-200",children:"Registrar nuevo ingreso"})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[(0,a.jsx)("div",{className:"bg-blue-500 p-3 rounded-full mr-4",children:(0,a.jsx)(n.default,{className:"shrink-0",src:"/img/airplane-svgrepo-com.svg",alt:"Solicitud de Accesos",width:48,height:48})}),(0,a.jsx)("div",{children:(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-700",children:"Solicitud de Accesos"})})]}),(0,a.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Solicitar permisos para un nuevo miembro del equipo."}),(0,a.jsx)("button",{onClick:()=>e.push("/access-request"),className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg transition duration-200",children:"Solicitar acceso"})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[(0,a.jsx)("div",{className:"bg-blue-500 p-3 rounded-full mr-4",children:(0,a.jsx)(n.default,{className:"shrink-0",src:"/img/computer-svgrepo-com.svg",alt:"Asignaci\xf3n de Computadores",width:48,height:48})}),(0,a.jsx)("div",{children:(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-700",children:"Asignaci\xf3n de Computadores"})})]}),(0,a.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Asignar un equipo port\xe1til a un nuevo ingreso."}),(0,a.jsx)("button",{onClick:()=>e.push("/computer-assignment"),className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg transition duration-200",children:"Asignar computador"})]})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-700 mb-6",children:"Solicitudes Recientes"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-left",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,a.jsx)("th",{className:"py-3 px-4 text-gray-600 font-semibold text-sm",children:"Persona"}),(0,a.jsx)("th",{className:"py-3 px-4 text-gray-600 font-semibold text-sm",children:"Solicitud"}),(0,a.jsx)("th",{className:"py-3 px-4 text-gray-600 font-semibold text-sm",children:"Estado"}),(0,a.jsx)("th",{className:"py-3 px-4 text-gray-600 font-semibold text-sm",children:"Acciones"})]})}),(0,a.jsx)("tbody",{children:o?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:4,className:"text-center py-4",children:"Cargando solicitudes..."})}):d?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:4,className:"text-center py-4 text-red-500",children:d})}):s.length>0?s.map(s=>(0,a.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"py-3 px-4 text-gray-700",children:s.name}),(0,a.jsx)("td",{className:"py-3 px-4 text-gray-700",children:s.request}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsx)("span",{className:"text-xs font-semibold px-2.5 py-0.5 rounded-full ".concat("pendiente"===s.status.toLowerCase()?"bg-yellow-200 text-yellow-700":"aprobada"===s.status.toLowerCase()?"bg-green-200 text-green-700":"rechazada"===s.status.toLowerCase()?"bg-red-200 text-red-700":"bg-gray-200 text-gray-700"),children:s.status})}),(0,a.jsxs)("td",{className:"py-3 px-4 space-x-2",children:[" ",(0,a.jsx)("button",{onClick:()=>e.push("/team-management/edit-request/".concat(s.id)),className:"text-indigo-600 hover:text-indigo-900 font-semibold text-sm",children:"Editar"}),(0,a.jsx)("button",{onClick:()=>u(s.id),className:"text-red-600 hover:text-red-900 font-semibold text-sm",children:"Eliminar"})]})]},s.id)):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:4,className:"text-center py-4",children:"No hay solicitudes recientes."})})})]})})]})]})}},4021:(e,s,t)=>{Promise.resolve().then(t.bind(t,304))}},e=>{var s=s=>e(e.s=s);e.O(0,[659,441,684,358],()=>s(4021)),_N_E=e.O()}]);